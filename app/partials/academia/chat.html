<div class="container chat-box" ng-hide="categories.length == 0">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-primary">
                <div class="panel-heading chat-heading">
                    <div class="btn-group pull-left" ng-show="boxToggle">
                        <button type="button" class="btn btn-default btn-xs dropdown-toggle setting-btn" data-toggle="dropdown" title='channels'>
                            <span class="glyphicon glyphicon-chevron-down"></span>
                        </button>
                        <ul class="dropdown-menu slidedown channel-list">
                            <li class="channel-list-item" ng-repeat="category in categories" ng-click="selectCategoryChannel(category)"><a href="#"># {{category.title}}</a>
                                <!-- <span class="badge"></span> --></li>
                        </ul>
                    </div>&nbsp;{{curCategory.title}}
                    <div class="btn-group pull-right">
                        <button type="button" class="btn btn-default btn-xs setting-btn" title="toggle" ng-click="toggleBox()">
                            <span class="glyphicon glyphicon-minus" ng-show="boxToggle"></span>
                            <span class="glyphicon glyphicon-plus" ng-hide="boxToggle"></span>
                        </button>
                    </div>
                    <div class="btn-group pull-right" ng-show="boxToggle">
                        <button type="button" class="btn btn-default btn-xs dropdown-toggle setting-btn" data-toggle="dropdown" title="settings">
                            <span class="glyphicon glyphicon-cog"></span>
                        </button>
                        <ul class="dropdown-menu slidedown">
                            <li ng-click="getChannelMembers(currentChannel.sid)"><a href="#"><span class="glyphicon glyphicon-user" style='color: blue'></span>&nbsp;View All Memebers</a></li>
                            <li><a href="#"><span class="glyphicon glyphicon-ok-sign" style='color: green'></span>&nbsp;Available</a></li>
                            <li><a href="#"><span class="glyphicon glyphicon-remove" style='color: red'></span>&nbsp;Busy</a></li>
                            <li><a href="#"><span class="glyphicon glyphicon-time" style='color: orange'></span>&nbsp;Away</a></li>
                            <li class="divider"></li>
                            <li ng-click="leaveCurrentChannel()"><a href="#"><span class="glyphicon glyphicon-off"></span>&nbsp;Leave</a></li>
                        </ul>
                    </div>
                </div>
                <div class="panel-body-chat" id="scrollbar" ng-show="boxToggle">
                    <img id="gif" src="https://gifimage.net/wp-content/uploads/2017/08/loading-animated-gif-1.gif" class="loading-gif" width="50" height="50" ng-hide="loading == false" /></img>
                    <div ng-hide="logged == true" style="text-align:center">Not logged user</div>
                    <ul class="chat" id="chat-list" ng-hide="loading == true">
                        <li ng-repeat-start="message in messages" ng-if="message.author == currentMember._id" class="left clearfix li">
                            <span class="chat-img pull-left">
                                <img src="http://placehold.it/50/{{stringToHslColor(getName(message.author))}}/fff&text={{getFirstCapitals(getName(message.author))}}" alt="User Avatar" class="img-circle" />
                            </span>
                            <div class="chat-body clearfix">
                                <div class="header">
                                    <strong class="primary-font">{{getName(message.author)}}</strong> <small class="pull-right text-muted">
                                            <span class="glyphicon glyphicon-time" style="margin-left: 3px; margin-right: 3px"></span>{{getTimeDisplay(message.timestamp)}}</small>
                                </div>
                                <p ng-bind-html="message.body" class="message-body left">
                                </p>
                            </div>
                        </li>

                        <li ng-repeat-end ng-if="message.author != currentMember._id" class="right clearfix li">
                            <span class="chat-img pull-right">
                                <img src="http://placehold.it/50/{{stringToHslColor(getName(message.author))}}/fff&text={{getFirstCapitals(getName(message.author))}}" alt="User Avatar" class="img-circle" />
                            </span>
                            <div class="chat-body clearfix">
                                <div class="header">
                                    <small class="text-muted"><span class="glyphicon glyphicon-time" style="margin-left: 3px; margin-right: 3px"></span>{{getTimeDisplay(message.timestamp)}}</small>
                                    <strong class="pull-right primary-font">{{getName(message.author)}}</strong>
                                </div>
                                <p ng-bind-html="message.body" class="message-body right">
                                </p>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="panel-footer chat-footer" ng-show="boxToggle">
                    <!-- <div class="notification">
                        {{chattingNotification}}
                    </div> -->
                    <div class="chat-controller">
                        <textarea class="textarea" ng-keypress='sendingInputKeyPress($event)'></textarea>
                        <button class="send-btn" ng-click='sendMSG()'><span class="glyphicon glyphicon-send"></span></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>